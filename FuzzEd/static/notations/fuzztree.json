{
    "kind": "fuzztree",
    "name": "Fuzz Tree",
    "nodes": {
        "node": {
            "numberOfOutgoingConnections": -1,
            "numberOfIncomingConnections":  1,
            "allowConnectionTo": ["node"],
            "deletable": true,

            "optional": null,

            "connector": {
                "offset": {
                    "top":    0,
                    "bottom": 0
                }
            }
        },

        "event": {
            "inherits": "node",

            "optional": false,

            "propertyMenuEntries": {
                "name": {
                    "kind": "text",
                    "displayName": "Name"
                },
                "optional": {
                    "kind": "checkbox",
                    "displayName": "Optional"
                }
            },

            "propertyMirrors": {
                "name": {
                    "position": "bottom",
                    "style": ["bold", "large"]
                }
            }
        },

        "gate": {
            "inherits": "node"
        },

        "variationPoint": {
            "inherits": "node",

            "propertyMenuEntries": {
                "name": {
                    "kind": "text",
                    "displayName": "Name"
                }
            },

            "propertyMirrors": {
                "name": {
                    "position": "bottom",
                    "style": ["bold", "large"]
                }
            }
        },

        "basicEvent": {
            "inherits": "event",

            "name": "Basic Event",
            "numberOfOutgoingConnections": 0,
            "image": "basic_event.svg",
            "help": "Initiating failure in a basic component",

            "probability": [0.5, 0],
            "probabilitySelected": "Exact",
            "cost": 1,

            "propertyMenuEntries": {
                "probability": {
                    "kind": "compound",
                    "displayName": "Probability",

                    "choices": {
                        "Fuzzy": {
                            "kind": "select",
                            "choices": [
                                "never",
                                "very unlikely",
                                "unlikely",
                                "more or less",
                                "likely",
                                "very likely",
                                "always"
                            ],
                            "values": {
                                "never":         [0,    0],
                                "very unlikely": [0.2,  0.1],
                                "unlikely":      [0.33, 0.2],
                                "more or less":  [0.5,  0.3],
                                "likely":        [0.66, 0.2],
                                "very likely":   [0.8,  0.1],
                                "always":        [1,    0]
                            }
                        },
                        "Exact": {
                            "kind": "neighborhood",
                            "min": 0,
                            "max": 1,
                            "step": 0.0000000001,
                            "epsilonMin": 0,
                            "epsilonMax": 1,
                            "epsilonStep": 0.0000000001
                        }
                    },

                    "defaults": {
                        "Fuzzy": [0.5, 0.3],
                        "Exact": [0.5, 0]
                    }
                },
                "cost": {
                    "kind": "number",
                    "displayName": "Cost",
                    "min": 0,
                    "step": 1
                }
            },

            "propertyMirrors": {
                "probability": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "p="
                },
                "cost": {
                    "position": "bottom",
                    "prefix": "c="
                }
            }
        },

        "basicEventSet": {
            "inherits": "basicEvent",

            "name": "Basic Event Set",
            "image": "basic_event_set.svg",
            "help": "Set of basic events with identical properties",
            "cardinality": 1,

            "propertyMenuEntries": {
                "cardinality": {
                    "kind": "number",
                    "displayName": "Cardinality",
                    "min": 1,
                    "step": 1
                }
            },

            "propertyMirrors": {
                "cardinality": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "#"
                }
            }
        },

        "intermediateEvent": {
            "inherits": "event",

            "name": "Intermediate Event",
            "image": "intermediate_event.svg",
            "help": "Failure resulting from a combination of previous events"
        },

        "intermediateEventSet": {
            "inherits": "intermediateEvent",

            "name": "Intermediate Event Set",
            "image": "intermediate_event_set.svg",
            "help": "Set of intermediate events",
            "cardinality": 1,

            "propertyMenuEntries": {
                "cardinality": {
                    "kind": "number",
                    "displayName": "Cardinality",
                    "min": 1,
                    "step": 1
                }
            },

            "propertyMirrors": {
                "cardinality": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "#"
                }
            }
        },

        "andGate": {
            "inherits": "gate",

            "name": "AND Gate",
            "image": "and_gate.svg",
            "help": "Output event occurs if all input events occur"
        },

        "orGate": {
            "inherits": "gate",

            "name": "OR Gate",
            "image": "or_gate.svg",
            "help": "Output event occurs if one or more input events occur",

            "connector": {
                "offset": {
                    "bottom": -7
                }
            }
        },

        "xorGate": {
            "inherits": "gate",

            "name": "XOR Gate",
            "image": "xor_gate.svg",
            "help": "Output event occurs if exactly one of the input events occur"
        },

        "votingOrGate": {
            "inherits": "gate",

            "name": "Voting OR Gate",
            "image": "voting_or_gate.svg",
            "help": "Output event occurs if the given number of input events occur",
            "k": 1,

            "propertyMenuEntries": {
                "k": {
                    "kind": "number",
                    "displayName": "k",
                    "min": 1,
                    "step": 1
                }
            },
            "propertyMirrors": {
                "k": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "k="
                }
            }
        },

        "undevelopedEvent": {
            "inherits": "event",

            "name": "Undeveloped Event",
            "numberOfOutgoingConnections": 0,
            "image": "undeveloped_event.svg",
            "help": "Event with no information available or insignificant impact",

            "optional": null,

            "propertyMenuEntries": {
                "optional": null
            },

            "propertyMirrors": {
                "optional": null
            }
        },

        "featureVariation": {
            "inherits": "variationPoint",

            "name": "Feature Variation",
            "allowConnectionTo": ["event", "variationPoint", "transferIn"],
            "image": "feature_variation.svg",
            "help": "Placeholder for one of the input events",

            "connector": {
                "dashstyle": "4 2"
            },

            "changedChildProperties": {
                "optional": null
            }
        },

        "redundancyVariation": {
            "inherits": "variationPoint",

            "name": "Redundancy Variation",
            "allowConnectionTo": ["intermediateEventSet", "basicEventSet"],
            "numberOfOutgoingConnections": 1,
            "image": "redundancy_variation.svg",
            "help": "Placeholder for a voting OR gate over a chosen number of the input events",

            "kFormula": "N-1",
            "nRange": [1, 2],

            "propertyMenuEntries": {
                "kFormula": {
                    "kind": "text",
                    "displayName": "K-Formula"
                },
                "nRange": {
                    "kind": "range",
                    "displayName": "N-Range",
                    "min": 1,
                    "step": 1
                }
            },

            "propertyMirrors": {
                "kFormula": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "k: "
                },
                "nRange": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "N: "
                }
            },

            "changedChildProperties": {
                "optional": null
            }
        },

        "houseEvent": {
            "inherits": "basicEvent",
            "name": "House Event",
            "numberOfOutgoingConnections": 0,
            "image": "house_event.svg",
            "help": "An event that is expected to occur and typically does not denote a failure"
        },

        "transferIn": {
            "inherits": "node",
            "name": "Transfer In",
            "image": "transfer_in.svg",
            "help": "Connects the output of a related FuzzTree, e.g. a subsystem, to this one",

            "numberOfIncomingConnections": 1,
            "numberOfOutgoingConnections": 0,

            "transfer": -1,
            "transferMaxCost": 1,

            "propertyMenuEntries": {
                "transfer": {
                    "kind": "transfer",
                    "displayName": "Transfer"
                },
                "transferMaxCost": {
                    "kind": "number",
                    "displayName": "Max Cost",
                    "min": 0,
                    "step": 1
                }
            },

            "propertyMirrors": {
                "transfer": {
                    "position": "bottom",
                    "style": ["bold", "large"],
                    "prefix": "â—„ "
                },
                "transferMaxCost": {
                    "position": "bottom",
                    "style": ["italic"],
                    "prefix": "max(c)="
                }
            }
        },

        "topEvent": {
            "inherits": "event",
            "name": "Top Event",
            "image": "top_event.svg",
            "excludeFromShapesMenu": true,
            "numberOfIncomingConnections": 0,
            "numberOfOutgoingConnections": 1,
            "deletable": false,

            "optional": null,
            "decompositions": 1,

            "propertyMenuEntries": {
                "optional": null,

                "decompositions": {
                    "kind": "number",
                    "displayName": "Decompose",
                    "min": 1,
                    "step": 1
                }
            },

            "propertyMirrors": {
                "optional": null
            }
        }
    },

    "propertiesDisplayOrder": [
        "name",
        "cost",
        "probability",
        "optional",
        "cardinality",
        "k",
        "kFormula",
        "nRange",
        "decompositions",
        "transfer",
        "transferMaxCost"
    ],

    "shapeMenuNodeDisplayOrder": [
        "basicEvent",
        "basicEventSet",
        "intermediateEvent",
        "intermediateEventSet",
        "andGate",
        "orGate",
        "xorGate",
        "votingOrGate",
        "featureVariation",
        "redundancyVariation",
        "houseEvent",
        "undevelopedEvent",
        "transferIn",
        "topEvent"
    ],

    "defaults": {
        "nodes": [
            {
                "kind": "topEvent",
                "x": 10,
                "y": 1
            }
        ]
    }
}
