{
    "kind": "faulttree",
    "name": "Fault Tree",
    "nodes": {
        "node": {
            "nodeDisplayName": "Node",

            "numberOfIncomingConnections":  1,
            "numberOfOutgoingConnections": -1,
            "allowConnectionTo": [],

            "deletable": true,

            "connector": {
                "offset": {
                    "top":    0,
                    "bottom": 0
                }
            },

            "properties": {}
        },

        "event": {
            "nodeDisplayName": "Event",
            "inherits": "node",

            "properties": {
                "name": {
                    "kind": "text",
                    "default": "Event",
                    "displayName": "Name",

                    "mirror": {
                        "position": "bottom",
                        "style": ["bold", "large"]
                    }
                }
            }
        },

        "eventSet": {
            "nodeDisplayName": "Event Set",
            "inherits": "event",

            "properties": {
                "name": {
                    "default": "Event Set"
                },
                "cardinality": {
                    "kind": "numeric",
                    "displayName": "Cardinality",
                    "min": 1,
                    "step": 1,
                    "default": 1,
                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "#{{$0}}"
                    }
                }
            }
        },

        "basicEvent": {
            "nodeDisplayName": "Basic Event",
            "inherits": "event",

            "numberOfOutoingConnections": -1,
            "allowConnectionTo": ["fdepGate"],

            "image": "basic_event.svg",
            "help": "Initiating failure in a basic component",

            "properties": {
                "name": {
                    "default": "Basic Event"
                },
                "probability": {
                    "kind": "numeric",
                    "displayName": "Probability",
                    "min": 0,
                    "max": 1,
                    "step": 0.0000000001,
                    "default": 0,
                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "p={{$0}}"
                    }
                }
            }
        },

        "basicEventSet": {
            "nodeDisplayName": "Basic Event Set",
            "inherits": "eventSet",

            "numberOfOutoingConnections": -1,
            "allowConnectionTo": ["fdepGate"],

            "image": "basic_event_set.svg",
            "help": "Set of basic events with identical properties",

            "properties": {
                "name": {
                    "default": "Basic Event Set"
                },
                "probability": {
                    "kind": "numeric",
                    "displayName": "Probability",
                    "min": 0,
                    "max": 1,
                    "step": 0.0000000001,
                    "default": 0,
                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "p={{$0}}"
                    }
                }
            }
        },

        "intermediateEvent": {
            "nodeDisplayName": "Intermediate Event",
            "inherits": "event",

            "numberOfOutgoingConnections": 1,
            "allowConnectionTo": ["staticGate", "cspGate", "priorityAndGate", "seqGate"],

            "image": "intermediate_event.svg",
            "help": "Failure resulting from a combination of previous events",

            "properties": {
                "name": {
                    "default": "Intermediate Event"
                }
            }
        },

        "intermediateEventSet": {
            "nodeDisplayName": "Intermediate Event Set",
            "inherits": "eventSet",

            "numberOfOutgoingConnections": 0,

            "image": "intermediate_event_set.svg",
            "help": "Set of intermediate events",
            "excludeFromShapesMenu": true,

            "properties": {
                "name": {
                    "default": "Intermediate Event Set"
                }
            }
        },

        "topEvent": {
            "nodeDisplayName": "Top Event",
            "inherits": "intermediateEvent",

            "numberOfIncomingConnections": 0,
            "allowConnectionTo": [
                "basicEvent", "undevelopedEvent", "houseEvent", "staticGate", "cspGate", "priorityAndGate", "seqGate"
            ],

            "image": "top_event.svg",
            "excludeFromShapesMenu": true,
            "deletable": false,

            "properties": {
                "name": {
                    "default": "Top Event"
                }
            }
        },

        "houseEvent": {
            "nodeDisplayName": "House Event",
            "inherits": "basicEvent",

            "numberOfOutgoingConnections": 0,
            "allowConnectionTo": [],

            "image": "house_event.svg",
            "help": "An event that is expected to occur and typically does not denote a failure",

            "properties": {
                "name": {
                    "default": "House Event"
                }
            }
        },

        "undevelopedEvent": {
            "nodeDisplayName": "Undeveloped Event",
            "inherits": "event",

            "numberOfOutgoingConnections": -1,
            "allowConnectionTo": ["fdepGate"],

            "image": "undeveloped_event.svg",
            "help": "Event with no information available or insignificant impact",

            "properties": {
                "name": {
                    "default": "Undeveloped Event"
                }
            }
        },

        "gate": {
            "nodeDisplayName": "Gate",
            "inherits": "node",

            "allowConnectionTo": ["event", "staticGate", "cspGate", "priorityAndGate", "seqGate", "transferIn"]
        },

        "staticGate": {
            "nodeDisplayName": "Static Gate",
            "inherits": "gate"
        },

        "dynamicGate": {
            "nodeDisplayName": "Dynamic Gate",
            "inherits": "gate"
        },

        "andGate": {
            "nodeDisplayName": "AND Gate",
            "inherits": "staticGate",

            "image": "and_gate.svg",
            "help": "Output event occurs if all input events occur"
        },

        "orGate": {
            "nodeDisplayName": "OR Gate",
            "inherits": "staticGate",

            "image": "or_gate.svg",
            "help": "Output event occurs if one or more input events occur",

            "connector": {
                "offset": {
                    "bottom": -7
                }
            }
        },

        "xorGate": {
            "nodeDisplayName": "XOR Gate",
            "inherits": "orGate",

            "image": "xor_gate.svg",
            "help": "Output event occurs if exactly one of the input events occur"
        },

        "votingOrGate": {
            "nodeDisplayName": "Voting OR Gate",
            "inherits": "orGate",

            "image": "voting_or_gate.svg",
            "help": "Output event occurs if the given number of input events occur",

            "properties": {
                "k": {
                    "kind": "numeric",
                    "displayName": "k",
                    "min": 1,
                    "step": 1,
                    "default": 1,
                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "k={{$0}}"
                    }
                }
            }
        },

        "transferIn": {
            "nodeDisplayName": "Transfer In",
            "inherits": "dynamicGate",

            "numberOfOutgoingConnections": 0,

            "image": "transfer_in.svg",
            "help": "Connects the output of a related FaultTree, e.g. a subsystem, to this one",

            "properties": {
                "transfer": {
                    "kind": "transfer",
                    "displayName": "Transfer",
                    "default": -1,
                    "mirror": {
                        "position": "bottom",
                        "style": ["bold", "large"],
                        "format": "â—„ {{$0}}"
                    }
                }
            }
        },

        "cspGate": {
            "nodeDisplayName": "Cold Spare Gate",
            "inherits": "dynamicGate",

            "image": "csp_gate.svg",
            "help": "Cold Spare Gate",

            "allowConnectionTo": [
                "basicEvent", "basicEventSet", "undevelopedEvent", "houseEvent", "staticGate",
                "cspGate", "priorityAndGate", "seqGate", "transferIn"
            ],

            "properties": {
                "dormancyFactor": {
                    "kind": "numeric",
                    "displayName": "Dormancy",
                    "min": 0,
                    "max": 1,
                    "step": 0.001,
                    "default": 0,
                    "mirror": {
                        "position": "bottom",
                        "style": ["italic"],
                        "format": "d={{$0}}"
                    }
                }
            }
        },

        "fdepGate": {
            "nodeDisplayName": "FDEP Gate",
            "inherits": "dynamicGate",

            "numberOfOutgoingConnections": 1,
            "allowConnectionTo": [
                "basicEvent", "houseEvent", "undevelopedEvent", "staticGate",
                "cspGate", "priorityAndGate", "seqGate", "transferIn"
            ],

            "image": "fdep_gate.svg",
            "help": "FDEP Gate"
        },

        "priorityAndGate": {
            "nodeDisplayName": "Priority AND Gate",
            "inherits": "dynamicGate",

            "image": "priority_and_gate.svg",
            "help": "Priority AND Gate"
        },

        "seqGate": {
            "nodeDisplayName": "Sequential Gate",
            "inherits": "dynamicGate",

            "image": "seq_gate.svg",
            "help": "Sequential Gate"
        }
    },

    "propertiesDisplayOrder": [
        "name",
        "probability",
        "cardinality",
        "k",
        "dormancyFactor",
        "transfer"
    ],

    "shapeMenuNodeDisplayOrder": [
        "basicEvent",
        "basicEventSet",
        "intermediateEvent",
        "intermediateEventSet",
        "topEvent",
        "houseEvent",
        "undevelopedEvent",

        "andGate",
        "orGate",
        "xorGate",
        "votingOrGate",
        "transferIn",

        "cspGate",
        "fdepGate",
        "priorityAndGate",
        "seqGate"
    ],

    "defaults": {
        "nodes": [
            {
                "kind": "topEvent",
                "x": 10,
                "y": 1
            }
        ]
    }
}
